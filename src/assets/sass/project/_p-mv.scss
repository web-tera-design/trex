@use "../global" as *;

.p-mv {
    // border: 1px solid $color-bk;
    border-block-start: 0;
    margin-block-start: 50px;
    margin-inline: auto;
    inline-size: min(840px, 100%);
    background-color: $color-background-main;
    padding-block-end: 30px;

    @include mq(sm) {
      padding-block-end: 0;
    }

    @include mq(lg) {
        inline-size: min(1200px, 100%);
    }
}

.p-mv__inner {
    position: relative;
    // border: 1px solid $color-heading;

    @include mq(lg) {
        inline-size: min(1366px, 100%);
        // padding-inline: 20px;
        margin-inline: auto;
        // display: flex;
        // flex-direction: row-reverse;
        // border-block-start: 0;
    }
}

.p-mv__copyright {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    left: -10px;
    writing-mode: vertical-rl;
    white-space: nowrap; // ← ★コレが改行防止のカギ
    word-break: keep-all; // 念のための補強
    overflow-wrap: normal; // 自
    color: $color-bk;
    font-family: Oswald;
    font-size: 10px;
    font-weight: 400;
    line-height: 39px;
}

.p-mv__scrolldown-text {
    position: absolute;
    bottom: 140px;
    right: 3px;
    writing-mode: vertical-rl;
    white-space: nowrap; // ← ★コレが改行防止のカギ
    word-break: keep-all; // 念のための補強
    overflow-wrap: normal; // 自
    color: $color-bk;
    font-family: Oswald;
    font-size: 10px;
    font-weight: 400;
    line-height: 15px;
}

.p-mv__scrolldown-bar {
    position: absolute;
    right: 10px;
    width: 1px;
    height: 89.5px;
    background-color: $color-bk;
    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 10px;
      height: 1px;
      background-color: $color-bk;
      rotate: -60deg;
      transform-origin: left top;
    }

    animation: 2.0s 0s ease-in-out backwards infinite scrollDown;
    @keyframes scrollDown {
        0% {
            bottom: 67px;
            height: 49.5px;
        }
        10% {
            bottom: 67px;
            height: 49.5px;
        }
        90% {
            bottom: 27px;
            height: 89.5px;
        }
        100% {
            bottom: 27px;
            height: 89.5px;
        }
    }
}



.p-mv__cta {

    inline-size: 100%;
    // border-inline-start: 1px solid $color-heading;
    // border-inline-end: 1px solid $color-heading;
    background: url(../img/mv-image.webp) no-repeat center 3% / cover;
    aspect-ratio: 1200 / 630;
    background-size: 120%;
    position: relative;
    @include mq(lg) {
        border-inline-end: 0;
        // inline-size: calc(582 / 1326 * 100%);
    }
}

.p-mv__button-container {
    margin-inline: auto;
    position: absolute;
    left: 50%;
    translate: -50%;;
    bottom: 17px;
    inline-size: 100%;
    
    @include mq(lg) {
        inline-size: revert;
    }
}

.p-mv__drawer-button {
    inline-size: 100%;
    padding: revert;
    padding-inline: rclamp(10, 48, 320, 1366) !important;
}

.p-mv__content-wrapper {

    inline-size: 100%;
    // border-inline-end: 1px solid $color-heading;
    // border-inline-start: 1px solid $color-heading;
    // padding-block: min(1.31771596vw, 18px);
    @include mq(lg) {
        border-inline-end: 0;
        inline-size: min(54.465592972vw, 744px);
    }
}

.p-mv__content-wrapper--wrap2 {
    // border-block-end: 1px solid $color-heading;
}

.p-mv__content {
    position: relative;
    padding-inline: min(2.12298682vw, 29px);
}

.p-mv__heading-wrapper {
    inline-size: 100%;
      position: relative;
  display: inline-block; /* テキスト幅に合わせたい場合 */
  margin-block-start: 100px;
padding: 20px;
  font-weight: 700;
  z-index: 1;
  margin-inline: auto;
    text-align: center;
    // margin-inline-start: min(0.36603221vw, 5px);
    &::before {
    content: "";
    position: absolute;
    inset: 0; /* 親要素いっぱい */
    background: rgba(255, 255, 255, 0.01); /* 半透明の白 */
    backdrop-filter: blur(4px) saturate(150%);
    -webkit-backdrop-filter: blur(4px) saturate(150%); /* Safari対応 */
    border-radius: 8px; /* 角丸 */
    border: 1px solid rgba(255, 255, 255, 0.01); /* 薄い枠線でガラス感UP */
    z-index: -1; /* 背景に置く */
    }
}

.p-mv__heading {
    transform: skew(-10deg);

    text-align: center;
    padding-inline: min(0.73206442vw, 10px);
    color: $color-heading;
    color: #fff;
    font-family: $font-heading;
    letter-spacing: -2.8px;
    white-space: nowrap;
    overflow: visible;
    font-size: rclamp(50, 130, 320, 1366);
    line-height: 98.51%;
    padding-inline-start: 60px;



    // @include mq(lg) {
    //     text-align: left;
    //     font-size: min(10.248901903vw, 140px);
    //     line-height: min(10.10248902vw, 138px);
    // }
}

.p-mv__heading--space {
    margin-inline-start: -0.2em;

    // @include mq(lg) {
    //   margin-inline-start: 0;
    // }
}

.p-mv__heading--space1 {
    margin-inline: -0.4em;
}

.p-mv__heading--space2 {
    margin-inline: -0.9em;
}

.p-mv__subtitle {
    // inline-size: fit-content;
    
    color: $color-wt;
    font-weight: 700;
    background-color: $color-heading;
    letter-spacing: 0.7px;
    padding: 4px 6px;
    font-size: rclamp(18, 27, 320, 1366);
    line-height: 120%;
    inline-size: fit-content;
    margin-inline: auto;
    margin-block-start: 5px;

    @include mq(lg) {
    //   margin-inline: revert;
      padding: min(0.58565154vw, 8px) min(0.87847731vw, 12px);
      inline-size: min(50.21961933vw, 686px);
      font-size: min(1.97657394vw, 27px);
      line-height: min(1.97657394vw, 27px);
      white-space: nowrap;
      overflow: visible;
    }
}

.p-mv__description {
    margin-block-start: 5px;
    font-weight: 500;
    letter-spacing: normal;
    padding-block-start: min(0.73206442vw, 10px);
    padding-block-end: min(1.46412884vw, 20px);
    font-size: rclamp(12, 15, 320, 1366);
    line-height: 166.667%;

    @include mq(lg) {
     font-size: min(1.098096632vw, 15px);
     line-height: min(1.83016105vw, 25px);
    }
}

.p-mv__content-message-wrapper {
    padding: 20px;
    // padding-block-start: rclamp(15, 20, 320, 1366);
    // padding-inline: min(2.12298682vw, 29px);
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    block-size: auto;

        &::before {
    content: "";
    position: absolute;
    inset: 0; /* 親要素いっぱい */
    background: rgba(255, 255, 255, 0.01); /* 半透明の白 */
    backdrop-filter: blur(8px) saturate(150%);
    -webkit-backdrop-filter: blur(8px) saturate(150%); /* Safari対応 */
    // border-radius: 8px; /* 角丸 */
    border: 1px solid rgba(255, 255, 255, 0.01); /* 薄い枠線でガラス感UP */
    z-index: -1; /* 背景に置く */
    }
    // @include mq(lg) {
    //     padding-block-start: min(1.464128843vw, 20px);
    // }
}

.p-mv__content-message-wrapper {
  /* レイヤー制御の土台づくり */
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  margin-block-end: 100px;

  /* 中身の余白。必要ならrclampに戻してOK */
  padding: 20px;

  /* ぼかしのはみ出し防止＆-1の安全運用 */
  overflow: hidden;          /* 角丸からblurがはみ出さない */
//   border-radius: 12px;       /* ガラスの角丸は親に持たせる */
  isolation: isolate;        /* スタッキング文脈を作る（z-index:-1が安全に） */
  z-index: 0;                /* ::beforeより上にテキストを置くための基準 */

  /* iOSのホームバーにめり込まないようにしておくと親切 */
  padding-bottom: max(20px, env(safe-area-inset-bottom));

  /* 背景ガラス（擬似要素） */
  &::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: -1;             /* テキストより背面に */
    background: rgba(255, 255, 255, 0.01); /* ほんのり白。濃いなら0.15〜0.2 */
    backdrop-filter: blur(4px) saturate(140%);
    -webkit-backdrop-filter: blur(4px) saturate(140%);
    border: 1px solid rgba(255, 255, 255, 0.01);
    /* 角丸は親と揃える（ぼかし縁のズレ防止） */
    border-radius: inherit;
    pointer-events: none;     /* クリックを邪魔しない */
  }

  /* フォールバック（backdrop-filterが無い環境向け）*/
  @supports not ((backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px))) {
    &::before {
      background: rgba(20, 20, 20, 0.55); /* ぼかせない代わりに暗め半透明で読ませる */
      border-color: rgba(255, 255, 255, 0.18);
    }
  }
}


.p-mv__content-message {
    transform: skew(-10deg);

    color: #fff;
    font-size: rclamp(20, 40, 320, 1366);
    font-weight: 700;
    line-height: rclamp(24, 45, 320, 1366);/* 112.5% */
    letter-spacing: -2px;
    @include mq(lg) {
      font-size: min(2.929257686vw, 40px);
      padding-inline: 29px;
      padding-inline-start: 86px;
    }
}

.p-mv__results {
    display: flex;
    flex-direction: column;
    // border-block-start: 1px solid $color-heading;
    // inline-size: min(840px, 100%);
    @include mq(sm) {
        flex-direction: row;
      inline-size: min(1366px, 100%);
    }
}

.p-mv__results__inner {
    margin-block-start: 52px;
    
    @include mq(lg) {
        margin-block-start: min(3.80673499vw, 52px);
        margin-inline-start: min(5.05124451vw, 69px);
      
    }
}

.p-mv__results__heading {
    background-color: $color-rd;
    padding-block: min(5.49048316vw, 75px);

    @include mq(sm) {
        padding-block: min(8.93118594vw, 122px);
        inline-size: min(32.503660322vw, 444px);      
    }
}

.p-mv__results__title {
    text-align: center;
    color: $color-wt;
    font-weight: 700;
    line-height: 100%; /* 100% */
    font-size: rclamp(30, 40, 320, 1366);
    @include mq(sm) {
        font-size: min(2.92825769vw, 40px);
    }
}

.p-mv__results-subtitle {
    text-align: center;
    color: $color-wt;
    font-weight: 500;
    line-height: 150%; /* 150% */
    font-size: rclamp(15, 20, 320, 1366);
    margin-block-start: 13px;
    @include mq(lg) {
        font-size: min(1.46412884vw, 20px);
        margin-block-start: min(0.95168375vw, 13px);
    }
}

.p-mv__results__items {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    gap: min(0.73206442vw, 10px);
    
    @include mq(sm) {
        flex-direction: row;
    }
}

.p-mv__results__item {
    text-align: center;
}

.p-mv__results__item-wrapper {
    text-align: center;
    background-color: $color-heading;
    border-radius: 100vmax;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    inline-size: 250px;
    block-size: 250px;

    @include mq(sm) {
        inline-size: min(18.30161054vw, 250px);
        block-size: min(18.30161054vw, 250px);
    }
}

.p-mv__results__item-heading {
    display: inline-block;
    color: $color-wt;
    text-align: center;
    font-weight: 500;
    font-size: 20px;
    line-height: 200%;
    @include mq(sm) {
        font-size: min(1.46412884vw, 20px);
        line-height: min(2.92825769vw, 40px);
    }
}

.p-mv__results__item-desc-wrapper {

}

.p-mv__results__item-description {
    margin-block-start: 18px;
    transform: skew(-10deg);
    display: inline-block;
    color: $color-rd;
    font-family: $font-sub;
    font-weight: 600;
    letter-spacing: -1.4px;
    font-size: 70px;
    line-height: 57.143%;
    
    @include mq(sm) {
        margin-block-start: min(1.31771596vw, 18px);
        font-size: min(5.12445095vw, 70px);
        line-height: min(2.92825769vw, 40px);
    }
}

.p-mv__results__item-sub {
    color: $color-wt;
    font-weight: 500;
    font-size: 30px;
    line-height: 40px;
    @include mq(sm) {
        font-size: min(2.19619327vw, 30px);
        line-height: min(2.92825769vw, 40px);
    }
}

.p-mv__results__item-third {
    margin-block-start: 10px;
    display: inline-block;
    color: $color-wt;
    font-weight: 500;
    font-size: 30px;
    line-height: 40px;
    @include mq(sm) {
        margin-block-start: min(0.73206442vw, 10px);
        font-size: min(2.19619327vw, 30px);
        line-height: min(2.92825769vw, 40px);
    }
}

